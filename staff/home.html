<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff</title>
    <!-- 重置样式表 -->
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/normalize.css">
    <!-- 开发环境版本，包含了有帮助的命令行警告 -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- <script src="//unpkg.com/vue/dist/vue.js"></script> -->
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui@2.15.7/lib/theme-chalk/index.css">
    <!-- <link rel="stylesheet" href="../css/index.css"> -->

    <!-- 引入组件库 -->
    <!-- <script src="https://unpkg.com/element-ui/lib/index.js"></script> -->
    <script src="../js/index.js"></script>
    <!-- <script src="//unpkg.com/element-ui@2.15.7/lib/index.js"></script> -->


    <!-- 引入axios -->
    <!-- <script src="https://unpkg.com/axios/dist/axios.min.js"></script> -->
    <script src="../js/axios.min.js"></script>
    <!-- MDB icon -->
    <link rel="icon" href="../img/mdb-favicon.ico" type="image/x-icon">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <!-- Material Design Bootstrap -->
    <link rel="stylesheet" href="../css/mdb.min.css">
    <!-- Your custom styles (optional) -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="./style.css">
    <!-- jQuery -->
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="../js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="../js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="../js/mdb.min.js"></script>
    <!-- Your custom scripts (optional) -->
    <script type="text/javascript"></script>
    <script type="text/javascript" src="../js/deletecookie.js"></script>
    <!-- 基础样式 -->
    <link rel="stylesheet" href="../css/base.css">
    <script src="../global.js"></script>
    <link rel="stylesheet" href="./css/home.css">
</head>

<body>


    <div id="app">
        <header>
            <!--Navbar-->
            <nav class="navbar navbar-expand-md navbar-dark 	nav-color">
                <div class="container">
                    <!-- Navbar brand -->
                    <a class="navbar-brand" href="./staff.html">Staff</a>
                    <!-- Collapse button -->
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
                        aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <!-- Collapsible content -->
                    <div class="collapse navbar-collapse" id="basicExampleNav">
                        <!-- Links -->
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item active">
                                <a class="nav-link" href="./staff.html">Home
                                    <span class="sr-only">(current)</span>
                                </a>
                            </li>
                            <!-- Dropdown -->
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">项目</a>
                                <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink">
                                    <a class="dropdown-item" href="#">查看项目信息</a>
                                    <a class="dropdown-item" href="#">查看项目进度</a>
                                    <a class="dropdown-item" href="#">查看项目文件</a>

                                </div>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">查询客户信息</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">修改意见</a>
                            </li>
                        </ul>
                        <!-- Links -->

                    </div>

                    <!-- Collapsible content -->
                </div>
                <!-- 用户栏 -->
                <div>
                    <div class="user-notice">
                        <a href="#">
                            <el-badge :is-dot="notice" class="notice-item">
                                <i class="el-icon-message-solid "></i>
                            </el-badge>
                        </a>
                    </div>
                    <el-dropdown>
                        <span class="el-dropdown-link" id="user">
                            {{username}}
                        </span>
                        <el-dropdown-menu slot="dropdown">
                            <el-dropdown-item divided>

                                <a id="personal" href="./home.html"><i class="el-icon-user"></i>个人资料</a>
                            </el-dropdown-item>
                            <el-dropdown-item divided id="trans" style="display: none;">
                                <a id="personal" href="../supervisor/supervisor.html"><i
                                        class="el-icon-thumb"></i>切换主管系统</a>
                            </el-dropdown-item>
                            <el-dropdown-item divided>
                                <div @click="exit">
                                    <i class="el-icon-circle-close"></i>
                                    <span>退出</span>
                                </div>
                            </el-dropdown-item>
                        </el-dropdown-menu>
                    </el-dropdown>
                </div>
            </nav>
            <!--/.Navbar-->

        </header>

        <div class="card-wrapper clearfix">
            <div class="left-nav">
                <div class="title">
                    <span>个人中心</span>
                </div>
            </div>
            <div class="inner">
                <div class="top">

                    <span>| 我的信息</span>
                </div>
                <div class="content">
                    <el-form ref="form" :model="form" label-width="80px" style="margin: 0 auto;">
                        <el-form-item class="e" label="姓名：">
                            <el-input v-model="form.name"></el-input>
                        </el-form-item>
                        <el-form-item class="e" label="账号：">
                            <el-input v-model="form.account"></el-input>
                        </el-form-item>
                        <el-form-item label="身份：">
                            <el-select v-model="form.id" :placeholder="idph">
                                <el-option label="主管" value="主管"></el-option>
                                <el-option label="员工" value="员工"></el-option>
                                <el-option label="前台" value="前台"></el-option>
                            </el-select>
                        </el-form-item>
                        <el-form-item label="部门：">
                            <el-radio-group v-model="form.department">
                                <el-radio label="线上品牌商赞助"></el-radio>
                                <el-radio label="线下场地免费"></el-radio>
                                <el-radio label="线下1场地免费"></el-radio>
                            </el-radio-group>
                        </el-form-item>
                        <el-form-item class="p" label="手机号：">
                            <el-input type="text" v-model="form.phone"></el-input>
                        </el-form-item>
                        <el-form-item>
                            <el-button class="savebtn" type="primary" @click="onSubmit">保存</el-button>
                        </el-form-item>
                    </el-form>
                </div>
            </div>
        </div>

        <!-- 回到顶部工具栏 -->
        <div class="to-top">
            <a href="#">
                <i class="el-icon-top" title="回到顶部"></i>
            </a>
            <a href="./home.html">
                <i class="el-icon-user" title="个人资料"></i>
            </a>
        </div>

    </div>

    <script>
        // 切换主管系统按钮
        var trans = document.getElementById("trans");
        console.log(trans.style)

        var app = new Vue({
            el: "#app",
            created() {
                //合并时，读取账号信息，如果该账号是员工，则不显示切换按钮，是主管则显示
                trans.style.display = "block"
            },
            data() {
                return {
                    username: getCookie('user'),
                    src: "../img/mdb-favicon.ico",
                    notice: true,  //true则显示红点，false不显示红点
                    form: {
                        name: getCookie('user'),
                        account: getCookie('account'),
                        id: '',
                        department: '',
                        phone: ''
                    },
                    idph:'111',
                };


            },
            methods: {
                test: function () {
                    // axios.get('http://localhost:8080/stock/getbyid/1').then(res => {
                    //     this.message = res.data['stockname']
                    //     console.log(res.data)

                    // })
                    setName("帅哥彭海栗")
                    this.username = getName()

                    //window.location.href = 'index.html'//跳转


                },
                exit: function () {
                    delCookie('user')
                    delCookie('password')
                    window.location.href = '../index.html'
                }

            }

        })
    </script>


</body>

</html>